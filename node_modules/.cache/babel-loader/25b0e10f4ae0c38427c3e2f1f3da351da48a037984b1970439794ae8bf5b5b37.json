{"ast":null,"code":"import { DefaultRateLimiter, RETRY_MODES } from \"@smithy/util-retry\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nexport class AdaptiveRetryStrategy extends StandardRetryStrategy {\n  rateLimiter;\n  constructor(maxAttemptsProvider, options) {\n    const {\n      rateLimiter,\n      ...superOptions\n    } = options ?? {};\n    super(maxAttemptsProvider, superOptions);\n    this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();\n    this.mode = RETRY_MODES.ADAPTIVE;\n  }\n  async retry(next, args) {\n    return super.retry(next, args, {\n      beforeRequest: async () => {\n        return this.rateLimiter.getSendToken();\n      },\n      afterRequest: response => {\n        this.rateLimiter.updateClientSendingRate(response);\n      }\n    });\n  }\n}","map":{"version":3,"names":["DefaultRateLimiter","RETRY_MODES","StandardRetryStrategy","AdaptiveRetryStrategy","rateLimiter","constructor","maxAttemptsProvider","options","superOptions","mode","ADAPTIVE","retry","next","args","beforeRequest","getSendToken","afterRequest","response","updateClientSendingRate"],"sources":["D:/ITechArt/react-lab-2025/application/node_modules/@aws-sdk/client-s3/node_modules/@smithy/middleware-retry/dist-es/AdaptiveRetryStrategy.js"],"sourcesContent":["import { DefaultRateLimiter, RETRY_MODES } from \"@smithy/util-retry\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nexport class AdaptiveRetryStrategy extends StandardRetryStrategy {\n    rateLimiter;\n    constructor(maxAttemptsProvider, options) {\n        const { rateLimiter, ...superOptions } = options ?? {};\n        super(maxAttemptsProvider, superOptions);\n        this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();\n        this.mode = RETRY_MODES.ADAPTIVE;\n    }\n    async retry(next, args) {\n        return super.retry(next, args, {\n            beforeRequest: async () => {\n                return this.rateLimiter.getSendToken();\n            },\n            afterRequest: (response) => {\n                this.rateLimiter.updateClientSendingRate(response);\n            },\n        });\n    }\n}\n"],"mappings":"AAAA,SAASA,kBAAkB,EAAEC,WAAW,QAAQ,oBAAoB;AACpE,SAASC,qBAAqB,QAAQ,yBAAyB;AAC/D,OAAO,MAAMC,qBAAqB,SAASD,qBAAqB,CAAC;EAC7DE,WAAW;EACXC,WAAWA,CAACC,mBAAmB,EAAEC,OAAO,EAAE;IACtC,MAAM;MAAEH,WAAW;MAAE,GAAGI;IAAa,CAAC,GAAGD,OAAO,IAAI,CAAC,CAAC;IACtD,KAAK,CAACD,mBAAmB,EAAEE,YAAY,CAAC;IACxC,IAAI,CAACJ,WAAW,GAAGA,WAAW,IAAI,IAAIJ,kBAAkB,CAAC,CAAC;IAC1D,IAAI,CAACS,IAAI,GAAGR,WAAW,CAACS,QAAQ;EACpC;EACA,MAAMC,KAAKA,CAACC,IAAI,EAAEC,IAAI,EAAE;IACpB,OAAO,KAAK,CAACF,KAAK,CAACC,IAAI,EAAEC,IAAI,EAAE;MAC3BC,aAAa,EAAE,MAAAA,CAAA,KAAY;QACvB,OAAO,IAAI,CAACV,WAAW,CAACW,YAAY,CAAC,CAAC;MAC1C,CAAC;MACDC,YAAY,EAAGC,QAAQ,IAAK;QACxB,IAAI,CAACb,WAAW,CAACc,uBAAuB,CAACD,QAAQ,CAAC;MACtD;IACJ,CAAC,CAAC;EACN;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
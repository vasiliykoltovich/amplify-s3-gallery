{"ast":null,"code":"import { parseXML } from \"@aws-sdk/xml-builder\";\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\nimport { collectBodyString } from \"../common\";\nexport const parseXmlBody = (streamBody, context) => collectBodyString(streamBody, context).then(encoded => {\n  if (encoded.length) {\n    let parsedObj;\n    try {\n      parsedObj = parseXML(encoded);\n    } catch (e) {\n      if (e && typeof e === \"object\") {\n        Object.defineProperty(e, \"$responseBodyText\", {\n          value: encoded\n        });\n      }\n      throw e;\n    }\n    const textNodeName = \"#text\";\n    const key = Object.keys(parsedObj)[0];\n    const parsedObjToReturn = parsedObj[key];\n    if (parsedObjToReturn[textNodeName]) {\n      parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\n      delete parsedObjToReturn[textNodeName];\n    }\n    return getValueFromTextNode(parsedObjToReturn);\n  }\n  return {};\n});\nexport const parseXmlErrorBody = async (errorBody, context) => {\n  const value = await parseXmlBody(errorBody, context);\n  if (value.Error) {\n    value.Error.message = value.Error.message ?? value.Error.Message;\n  }\n  return value;\n};\nexport const loadRestXmlErrorCode = (output, data) => {\n  if (data?.Error?.Code !== undefined) {\n    return data.Error.Code;\n  }\n  if (data?.Code !== undefined) {\n    return data.Code;\n  }\n  if (output.statusCode == 404) {\n    return \"NotFound\";\n  }\n};","map":{"version":3,"names":["parseXML","getValueFromTextNode","collectBodyString","parseXmlBody","streamBody","context","then","encoded","length","parsedObj","e","Object","defineProperty","value","textNodeName","key","keys","parsedObjToReturn","parseXmlErrorBody","errorBody","Error","message","Message","loadRestXmlErrorCode","output","data","Code","undefined","statusCode"],"sources":["D:/ITechArt/react-lab-2025/application/amplify-s3-gallery/node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/parseXmlBody.js"],"sourcesContent":["import { parseXML } from \"@aws-sdk/xml-builder\";\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\nimport { collectBodyString } from \"../common\";\nexport const parseXmlBody = (streamBody, context) => collectBodyString(streamBody, context).then((encoded) => {\n    if (encoded.length) {\n        let parsedObj;\n        try {\n            parsedObj = parseXML(encoded);\n        }\n        catch (e) {\n            if (e && typeof e === \"object\") {\n                Object.defineProperty(e, \"$responseBodyText\", {\n                    value: encoded,\n                });\n            }\n            throw e;\n        }\n        const textNodeName = \"#text\";\n        const key = Object.keys(parsedObj)[0];\n        const parsedObjToReturn = parsedObj[key];\n        if (parsedObjToReturn[textNodeName]) {\n            parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\n            delete parsedObjToReturn[textNodeName];\n        }\n        return getValueFromTextNode(parsedObjToReturn);\n    }\n    return {};\n});\nexport const parseXmlErrorBody = async (errorBody, context) => {\n    const value = await parseXmlBody(errorBody, context);\n    if (value.Error) {\n        value.Error.message = value.Error.message ?? value.Error.Message;\n    }\n    return value;\n};\nexport const loadRestXmlErrorCode = (output, data) => {\n    if (data?.Error?.Code !== undefined) {\n        return data.Error.Code;\n    }\n    if (data?.Code !== undefined) {\n        return data.Code;\n    }\n    if (output.statusCode == 404) {\n        return \"NotFound\";\n    }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,sBAAsB;AAC/C,SAASC,oBAAoB,QAAQ,uBAAuB;AAC5D,SAASC,iBAAiB,QAAQ,WAAW;AAC7C,OAAO,MAAMC,YAAY,GAAGA,CAACC,UAAU,EAAEC,OAAO,KAAKH,iBAAiB,CAACE,UAAU,EAAEC,OAAO,CAAC,CAACC,IAAI,CAAEC,OAAO,IAAK;EAC1G,IAAIA,OAAO,CAACC,MAAM,EAAE;IAChB,IAAIC,SAAS;IACb,IAAI;MACAA,SAAS,GAAGT,QAAQ,CAACO,OAAO,CAAC;IACjC,CAAC,CACD,OAAOG,CAAC,EAAE;MACN,IAAIA,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE;QAC5BC,MAAM,CAACC,cAAc,CAACF,CAAC,EAAE,mBAAmB,EAAE;UAC1CG,KAAK,EAAEN;QACX,CAAC,CAAC;MACN;MACA,MAAMG,CAAC;IACX;IACA,MAAMI,YAAY,GAAG,OAAO;IAC5B,MAAMC,GAAG,GAAGJ,MAAM,CAACK,IAAI,CAACP,SAAS,CAAC,CAAC,CAAC,CAAC;IACrC,MAAMQ,iBAAiB,GAAGR,SAAS,CAACM,GAAG,CAAC;IACxC,IAAIE,iBAAiB,CAACH,YAAY,CAAC,EAAE;MACjCG,iBAAiB,CAACF,GAAG,CAAC,GAAGE,iBAAiB,CAACH,YAAY,CAAC;MACxD,OAAOG,iBAAiB,CAACH,YAAY,CAAC;IAC1C;IACA,OAAOb,oBAAoB,CAACgB,iBAAiB,CAAC;EAClD;EACA,OAAO,CAAC,CAAC;AACb,CAAC,CAAC;AACF,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,SAAS,EAAEd,OAAO,KAAK;EAC3D,MAAMQ,KAAK,GAAG,MAAMV,YAAY,CAACgB,SAAS,EAAEd,OAAO,CAAC;EACpD,IAAIQ,KAAK,CAACO,KAAK,EAAE;IACbP,KAAK,CAACO,KAAK,CAACC,OAAO,GAAGR,KAAK,CAACO,KAAK,CAACC,OAAO,IAAIR,KAAK,CAACO,KAAK,CAACE,OAAO;EACpE;EACA,OAAOT,KAAK;AAChB,CAAC;AACD,OAAO,MAAMU,oBAAoB,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EAClD,IAAIA,IAAI,EAAEL,KAAK,EAAEM,IAAI,KAAKC,SAAS,EAAE;IACjC,OAAOF,IAAI,CAACL,KAAK,CAACM,IAAI;EAC1B;EACA,IAAID,IAAI,EAAEC,IAAI,KAAKC,SAAS,EAAE;IAC1B,OAAOF,IAAI,CAACC,IAAI;EACpB;EACA,IAAIF,MAAM,CAACI,UAAU,IAAI,GAAG,EAAE;IAC1B,OAAO,UAAU;EACrB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}